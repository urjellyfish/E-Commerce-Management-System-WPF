<Window x:Class="E_CommerceManagementSystem.Presentation.UserWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:E_CommerceManagementSystem.Presentation"
        mc:Ignorable="d"
        Title="UserWindow" Height="500" Width="850" WindowStartupLocation="CenterScreen" Loaded="Window_Loaded">

    <Grid Margin="10">
        <TabControl>

            <TabItem Header="UserProfile" Width="100">
                <Grid>
                    <Label Content="ID" HorizontalAlignment="Left" Margin="28,27,0,0" VerticalAlignment="Top" FontSize="18" FontWeight="Bold"/>
                    <TextBox x:Name="CustomerIdTextBox" HorizontalAlignment="Left" Margin="139,31,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="454" Foreground="Blue" FontSize="18" VerticalContentAlignment="Center"/>

                    <Label Content="Name" HorizontalAlignment="Left" Margin="28,89,0,0" VerticalAlignment="Top" FontSize="18" FontWeight="Bold" Width="74"/>
                    <TextBox x:Name="NameTextBox" HorizontalAlignment="Left" Margin="139,91,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="454" Foreground="Blue" FontSize="18" VerticalContentAlignment="Center"/>

                    <Label Content="Email" HorizontalAlignment="Left" Margin="28,145,0,0" VerticalAlignment="Top" FontSize="18" FontWeight="Bold" Width="64"/>
                    <TextBox x:Name="EmailTextBox" HorizontalAlignment="Left" Margin="139,149,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="454" Foreground="Blue" FontSize="18" VerticalContentAlignment="Center"/>

                    <Label Content="Password" HorizontalAlignment="Left" Margin="28,0,0,0" VerticalAlignment="Center" FontSize="18" FontWeight="Bold"/>
                    <PasswordBox x:Name="PasswordBox" HorizontalAlignment="Left" Margin="139,0,0,0" VerticalAlignment="Center" Width="454" FontSize="18" VerticalContentAlignment="Center"/>
                </Grid>
            </TabItem>

            <TabItem Header="Product" Width="100">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>


                    <Label Content="Product List"
                           FontFamily="Tahoma"
                           FontSize="13"
                           Foreground="Blue"
                           HorizontalAlignment="Left"
                           Margin="0,0,0,10"
                           Grid.Row="0"/>


                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,10,0,10">
                        <Button x:Name="BtnRead" Content="Read" Width="80" Margin="0,0,10,0" Background="#FFB38B82" Foreground="White" Click="BtnRead_Click" />
                        <ComboBox x:Name="CbCategoryFilter" Width="100" Margin="10,0,0,0" 
DisplayMemberPath="Name" 
SelectedValuePath="CategoryID"
SelectedIndex="0" SelectionChanged="CbCategoryFilter_SelectionChanged"/>
                    </StackPanel>
                    
                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,10">
                        <TextBox x:Name="txtKeyword" Width="200" Margin="10,0,10,0" TextAlignment="Left" Foreground="Blue"/>
                        <Button x:Name="BtnSearch" Content="Search" Width="80" Background="#FF6B705C" Foreground="White" Click="BtnSearch_Click"/>
                    </StackPanel>


                    <DataGrid x:Name="ProductList"
                              Grid.Row="2"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              Margin="0,10,0,0">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ProductID" Binding="{Binding ProductID}" Width="100"/>
                            <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="150"/>
                            <DataGridTextColumn Header="Price" Binding="{Binding Price}" Width="100"/>
                            <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="250"/>
                            <DataGridTextColumn Header="CategoryName" Binding="{Binding Category.Name}" Width="150"/>
                            <DataGridTemplateColumn Header="Action" Width="100">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Content="Add to Cart"
                                                Background="DarkCyan" Foreground="White"
                                                Click="AddToCart_Click"
                                                Tag="{Binding}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <!-- Tab: Cart -->
            <TabItem Header="Cart" Width="100">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <DataGrid x:Name="CartList"
                              Grid.Row="0"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              ItemsSource="{Binding}"
                              Margin="0,0,0,10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ProductID" Binding="{Binding ProductID}" Width="100"/>
                            <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="150"/>
                            <DataGridTextColumn Header="Price" Binding="{Binding Price}" Width="100"/>
                            <DataGridTemplateColumn Header="Action" Width="100">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Content="Remove"
                                    Background="IndianRed" Foreground="White"
                                    Click="RemoveFromCart_Click"
                                    Tag="{Binding}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>

                    <Button x:Name="BtnBuy"
                Content="Buy"
                Width="100"
                Height="30"
                HorizontalAlignment="Right"
                Grid.Row="1"
                Click="BtnBuy_Click"
                Background="Green" Foreground="White"/>
                </Grid>
            </TabItem>


            <!-- Tab: Order Detail -->
            <TabItem Header="Order Detail" Width="100">
                <Grid>
                    <TextBlock Text="Chi tiết đơn hàng" 
                               HorizontalAlignment="Center" 
                               VerticalAlignment="Center" 
                               FontSize="16"
                               Foreground="DarkSlateGray"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
